@startuml
!theme sunlust
title Architecture DevOps du Projet IoT Monitoring

node "Docker Host" {
    component "Cloudflared" as Tunnel #Orange
    component "Caddy" as Proxy #Yellow

    package "Internal Network" {
        component "Frontend (Nginx)" as Web
        component "API IoT (Node.js)" as API
        component "PostgreSQL Database" as DB
        component "Adminer" as Admin
    }
}

cloud "Internet" {
    actor User
}

User --> Tunnel : HTTPS
Tunnel --> Proxy : HTTP

Proxy --> Web : /
Proxy --> API : /api
Proxy --> Admin : /admin

API --> DB
Admin --> DB
@enduml
